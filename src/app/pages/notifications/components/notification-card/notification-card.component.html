<div
  [ngClass]="
    notification().read
      ? 'dark:bg-bunker-950 bg-gray-100 opacity-50 hover:shadow-none'
      : 'border-s-primary-500 dark:border-s-primary-500 dark:bg-bunker-950/25 border-s-4'
  "
  class="dark:border-bunker-800 rounded-lg border border-gray-300 px-4 py-2 transition-shadow duration-300 ease-in-out hover:shadow-md">
  <!-- Header -->
  <div
    class="flex w-full flex-col items-center justify-between gap-2 md:flex-row">
    <h2 class="text-lg font-medium">Evaluación {{ getStatus().title }}</h2>
    <div
      class="flex w-full items-center justify-between gap-2 md:w-fit md:justify-end">
      <p-tag
        class="h-fit px-3 py-1.5"
        [severity]="getStatus().severity"
        [value]="getStatus().tag"
        [rounded]="true" />
      @if (!notification().read) {
        <app-button-secondary
          title="Atendida"
          icon="lucideCheck"
          (event)="markAsRead()"
          [isLoading]="loading()" />
      }
    </div>
  </div>
  <!-- Content -->
  <div class="mt-3 mb-2 flex flex-col gap-1 md:mt-0">
    <!-- Date -->
    <div class="flex items-center gap-2 text-gray-700 dark:text-gray-300">
      <ng-icon name="lucideCalendar" />
      <p class="font-medium">
        Fecha:
        <span class="font-normal text-black dark:text-gray-50">{{
          notification().created_at | date: 'dd/MM/yyyy, HH:mm'
        }}</span>
      </p>
    </div>
    <!-- Evaluation -->
    <div class="flex items-center gap-2 text-gray-700 dark:text-gray-300">
      <ng-icon name="lucideFileText" />
      <p class="font-medium">
        Evaluación:
        <span class="font-medium text-black dark:text-gray-50">
          {{
            notification().evaluation.campaign.name || 'Campaña no encontrada'
          }}
        </span>
      </p>
    </div>
    <!-- User -->
    <div class="flex items-center gap-2 text-gray-700 dark:text-gray-300">
      <ng-icon name="lucideUser" />
      <p class="font-medium">
        Notificado por:
        <span class="font-normal text-black dark:text-gray-50">
          {{
            notification().user.first_name + ' ' + notification().user.last_name
          }}
        </span>
      </p>
    </div>
    <!-- Comment -->
    @if (notification().comment) {
      <div class="flex items-center gap-2 text-gray-700 dark:text-gray-300">
        <ng-icon name="lucideText" />
        <p class="font-medium">
          Comentario:
          <span class="font-normal text-black dark:text-gray-50">
            {{ notification().comment }}
          </span>
        </p>
      </div>
    }
    <!-- Readed-->
    @if (notification().read) {
      <div class="mt-1 font-medium">
        <p class="text-green-500">✅ Marcada como atendida</p>
      </div>
    }
  </div>
</div>
