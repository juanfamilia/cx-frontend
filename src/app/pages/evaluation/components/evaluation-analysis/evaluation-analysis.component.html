<!-- Button -->
<div class="fixed top-4 right-4 z-50">
  <button
    pTooltip="An√°lisis IA"
    tooltipPosition="top"
    class="text-primary-500 dark:bg-bunker-900 dark:hover:bg-bunker-950/30 dark:border-bunker-800/75 flex cursor-pointer items-center justify-center rounded-full border border-gray-300 bg-gray-200 p-2 transition-colors duration-200 ease-in-out hover:bg-gray-300"
    (click)="showDialog()">
    <ng-icon name="lucideSparkles" size="20" />
  </button>
</div>
<!-- Dialog -->
<p-dialog
  header="ü§ñ An√°lisis (IA)"
  [modal]="true"
  [(visible)]="visible"
  styleClass="w-full max-w-4xl">
  <div
    class="mb-4 flex items-center justify-center gap-4 py-5 text-gray-800 dark:text-gray-300">
    @if (isLoading()) {
      <div class="flex w-full flex-col items-center justify-center">
        <app-spinner />
        <h3>Cargando an√°lisis...</h3>
      </div>
    } @else {
      @if (analysis()) {
        <p class="text-lg">
          {{ analysis()?.analysis }}
        </p>
      } @else {
        <p class="italic">
          El an√°lisis esta en proceso o no se encuentra disponible...
        </p>
      }
    }
  </div>
  <div class="flex justify-end gap-2">
    <p-button label="Cerrar" severity="secondary" (click)="hiddenDialog()" />
  </div>
</p-dialog>
